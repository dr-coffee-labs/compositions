!function(){var Core,Observable,__slice=[].slice;Core=require("./core");Observable=require("observable");module.exports=function(I,self){if(I==null){I={}}if(self==null){self=Core(I)}self.extend({attrObservable:function(){var names;names=1<=arguments.length?__slice.call(arguments,0):[];names.forEach(function(name){self[name]=Observable(I[name]);return self[name].observe(function(newValue){return I[name]=newValue})});return self},attrModel:function(name,Model){var model;model=Model(I[name]);self[name]=Observable(model);self[name].observe(function(newValue){return I[name]=newValue.I});return self},attrModels:function(name,Model){var models;models=(I[name]||[]).map(function(x){return Model(x)});self[name]=Observable(models);self[name].observe(function(newValue){return I[name]=newValue.map(function(instance){return instance.I})});return self},toJSON:function(){return I}});return self}}.call(this);